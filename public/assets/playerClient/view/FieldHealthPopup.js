/*
 * File: app/view/FieldHealthPopup.js
 */
//------------------------------------------------------------------------------
Ext.define("Biofuels.view.FieldHealthPopup",{extend:"Ext.window.Window",alias:"widget.fieldHealthPopup",height:130,width:400,title:"Field Changes Over Time",resizable:!1,floating:!0,titleCollapse:!0,initComponent:function(){var e=this;Ext.applyIf(e,{items:[{xtype:"panel",padding:5,layout:{columns:3,type:"table"},bodyPadding:"5 5 8 5",items:[{xtype:"checkboxfield",itemId:"soilHealth",padding:"0 0 0 20",colspan:1,rowspan:1,width:125,hideLabel:!0,boxLabel:"Soil health",checked:!0},{xtype:"checkboxfield",itemId:"yields",padding:"0 0 0 20",colspan:1,rowspan:1,width:125,hideLabel:!0,boxLabel:"Yields",checked:!0},{xtype:"checkboxfield",itemId:"crop",colspan:1,rowspan:1,width:125,hideLabel:!0,boxLabel:"Crop",checked:!0},{xtype:"slider",itemId:"yearSlider",padding:"5 15 0 15",colspan:3,rowspan:1,width:320,value:0,maxValue:0,minValue:-10},{xtype:"label",itemId:"prevYearLabel",padding:"0 0 0 20",text:"< Previous years",colspan:2,rowspan:1},{xtype:"label",itemId:"nowLabel",padding:"0 0 0 25",text:"Now",colspan:1,rowspan:1}]}]}),e.callParent(arguments)},setCheckboxCallbacks:function(e,t,n,r){var i=this.items.items[0],s=i.getComponent("soilHealth");s.on({change:e,scope:r}),e.call(r,s,s.getValue()),s=i.getComponent("yields"),s.on({change:t,scope:r}),t.call(r,s,s.getValue()),s=i.getComponent("crop"),s.on({change:n,scope:r}),n.call(r,s,s.getValue())},setSliderCallback:function(e,t,n,r){var i=this.items.items[0],s=i.getComponent("yearSlider");this.setSliderNumYears(e),s.on({drag:t,change:n,scope:r}),n.call(r,s)},setSliderNumYears:function(e){var t=this.items.items[0],n=t.getComponent("yearSlider"),r=t.getComponent("prevYearLabel"),i=t.getComponent("nowLabel");if(typeof n=="undefined"||typeof r=="undefined"||typeof i=="undefined")return;e<=1?(n.hide(),r.hide(),i.hide()):(n.show(),r.show(),i.show(),n.setMinValue((e-1)*-1),n.setValue(0))}});
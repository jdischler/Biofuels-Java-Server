/*
 * File: BiofuelsModerator/view/MainViewport.js
 */
Ext.onReady(function(){var e=Ext.create("BiofuelsModerator.view.CreateGamePopup");e.show()}),Ext.define("BiofuelsModerator.view.MainViewport",{extend:"Ext.container.Viewport",requires:["BiofuelsModerator.view.CreateGamePopup","BiofuelsModerator.view.NetworkLayer"],title:"My Window",autoScroll:!0,layout:"fit",initComponent:function(){var e=this;BiofuelsModerator.network=Ext.create("BiofuelsModerator.view.NetworkLayer"),BiofuelsModerator.network.openSocket("localhost",80,"/BiofuelsGame/serverConnect"),Ext.applyIf(e,{items:[{xtype:"panel",itemId:"panel1",layout:{type:"vbox",align:"center"},items:[{xtype:"panel",itemId:"panel2",height:480,width:320,layout:{type:"absolute"},title:"Game Settings",titleAlign:"center",items:[{xtype:"numberfield",itemId:"fieldCount",x:20,y:20,value:2,fieldLabel:"# of Fields",labelAlign:"right",labelWidth:125,allowBlank:!1,allowDecimals:!1,maxValue:6,minValue:2,step:2,width:225},{xtype:"checkboxfield",itemId:"contracts",x:20,y:50,fieldLabel:"Contracts Enabled",labelAlign:"right",labelWidth:125},{xtype:"checkboxfield",itemId:"managementOptions",x:20,y:80,fieldLabel:"Management Options Enabled",labelAlign:"right",labelWidth:125},{xtype:"button",x:30,y:140,scale:"medium",width:260,text:"Apply Settings!",scope:this,handler:function(){this.applySettingsChange()}},{xtype:"button",x:80,y:240,enableToggle:!0,scale:"large",text:"Pause"},{xtype:"button",x:140,y:240,enableToggle:!0,scale:"large",text:"Final Round"}]}]}]}),e.callParent(arguments)},applySettingsChange:function(){var e=this.getComponent("panel1").getComponent("panel2"),t=e.getComponent("fieldCount").value,n=e.getComponent("contracts").value,r=e.getComponent("managementOptions").value,i=WsConnection.webSocket.gameChannel,s={event:"changeSettings",roomName:i,fieldCount:t,contractsOn:n,mgmtOptsOn:r};console.log(s),BiofuelsModerator.network.send(JSON.stringify(s))}});